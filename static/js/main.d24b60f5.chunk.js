(this["webpackJsonpprognoza-pogody"]=this["webpackJsonpprognoza-pogody"]||[]).push([[0],{72:function(e,t,a){e.exports=a(86)},86:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(15),o=a.n(i),l=a(105),c=a(32),u=a(67),m=[756135,3093133,3099434,3094802,7530858],s=a(31),p=a(34),h=a(33),g=a(10),E=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return a}(Object(g.c)({cityID:null,cityName:null,description:null,icon:null,temperature:null,feelsLike:null,pressure:null,humidity:null,windSpeed:null})),d=a(25),w=a.n(d);var f=a(7),y=a(26),b=a(1);function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"".concat(e.toFixed(1)," ").concat(t)}var A=a(107),_=a(22),S=a(108),T=a(69),I=a(109),O=a(96);function C(){var e=Object(y.a)(["\n  flex: 0 0 auto;\n"]);return C=function(){return e},e}var j=Object(b.default)(A.a)(C());var x=function(e){var t=e.weather;return r.a.createElement(_.a,{direction:"column",margin:{right:"medium",top:"medium"},justify:"center",alignSelf:"start"},r.a.createElement(_.a,null,r.a.createElement(S.a,{textAlign:"center",margin:"none"},t.get("cityName")),r.a.createElement(_.a,{direction:"row",justify:"center"},r.a.createElement(j,{src:"https://openweathermap.org/img/wn/".concat(t.get("icon"),"@2x.png"),fit:"contain"}),r.a.createElement(T.a,{alignSelf:"center",size:"xxlarge"},t.get("temperature").toFixed(1)," \u2103")),r.a.createElement(I.a,{textAlign:"center"},t.get("description"))),r.a.createElement(O.a,{primaryKey:"name",secondaryKey:"value",data:[{name:"Temperatura odczuwalna",value:v(t.get("feelsLike"),"\u2103")},{name:"Ci\u015bnienie",value:v(t.get("pressure"),"hPa")},{name:"Wilgotno\u015b\u0107",value:v(t.get("humidity"),"%")},{name:"Si\u0142a wiatru",value:v(t.get("windSpeed"),"km/h")}]}))},z=a(97),D=a(98),L=a(99),k=a(100),R=a(101),W=a(102);function F(){var e=Object(y.a)(["\n  color: ",";\n"]);return F=function(){return e},e}function U(){var e=Object(y.a)(["\n  color: ",";\n"]);return U=function(){return e},e}var P=b.default.span(U(),(function(e){return e.theme.global.colors["neutral-1"]})),H=b.default.span(F(),(function(e){return e.theme.global.colors["neutral-4"]}));var N=function(e){var t=e.weatherComparision;return r.a.createElement(z.a.Consumer,null,(function(e){var a="large"===e?"medium":"small";return r.a.createElement(_.a,{direction:"column",margin:{top:"auto"},style:{fontSize:"large"===e?"18px":"14px"}},r.a.createElement(D.a,null,r.a.createElement(L.a,null,r.a.createElement(k.a,null,r.a.createElement(R.a,{scope:"col",border:"bottom"},"Nazwa miejscowo\u015bci"),r.a.createElement(R.a,{scope:"col",border:"bottom"},"Temperatura"),r.a.createElement(R.a,{scope:"col",border:"bottom"},"Temperatura odczuwalna"),r.a.createElement(R.a,{scope:"col",border:"bottom"},"Ci\u015bnienie"),r.a.createElement(R.a,{scope:"col",border:"bottom"},"Wilgotno\u015b\u0107"),r.a.createElement(R.a,{scope:"col",border:"bottom"},"Si\u0142a wiatru"))),r.a.createElement(W.a,null,t.valueSeq().map((function(e){return r.a.createElement(k.a,{key:e.getIn(["weatherToCompare","cityID"])},r.a.createElement(R.a,{scope:"row"},r.a.createElement("strong",null,e.getIn(["weatherToCompare","cityName"]))),r.a.createElement(R.a,{scope:"row"},r.a.createElement("strong",null,r.a.createElement(T.a,{size:a,margin:{right:"xsmall"}},v(e.getIn(["weatherToCompare","temperature"]),"\u2103")),r.a.createElement(T.a,{size:a,margin:{right:"xsmall"}},M(e.getIn(["result","temperature"]),"\u2103")))),r.a.createElement(R.a,{scope:"row"},r.a.createElement("strong",null,r.a.createElement("strong",null,r.a.createElement(T.a,{size:a,margin:{right:"xsmall"}},v(e.getIn(["weatherToCompare","feelsLike"]),"\u2103")),r.a.createElement(T.a,{size:a,margin:{right:"xsmall"}},M(e.getIn(["result","feelsLike"]),"\u2103"))))),r.a.createElement(R.a,{scope:"row"},r.a.createElement("strong",null,r.a.createElement(T.a,{size:a,margin:{right:"xsmall"}},v(e.getIn(["weatherToCompare","pressure"]),"hPa")),r.a.createElement(T.a,{size:a,margin:{right:"xsmall"}},M(e.getIn(["result","pressure"]),"hPa")))),r.a.createElement(R.a,{scope:"row"},r.a.createElement("strong",null,r.a.createElement(T.a,{size:a,margin:{right:"xsmall"}},v(e.getIn(["weatherToCompare","humidity"]),"%")),r.a.createElement(T.a,{size:a,margin:{right:"xsmall"}},M(e.getIn(["result","humidity"]),"%")))),r.a.createElement(R.a,{scope:"row"},r.a.createElement("strong",null,r.a.createElement(T.a,{size:a,margin:{right:"xsmall"}},v(e.getIn(["weatherToCompare","windSpeed"]),"km/h")),r.a.createElement(T.a,{size:a,margin:{right:"xsmall"}},M(e.getIn(["result","windSpeed"]),"km/h")))))})))))}))};function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return 0===e?"(B/Z)":(e=e.toFixed(1),parseFloat(e)>0?r.a.createElement(P,null,"(+ ".concat(e," ").concat(t,")")):r.a.createElement(H,null,"(".concat(e," ").concat(t,")")))}var B=a(68),Q=a(104),q=a(106);var J=function(e){var t=e.hasError,a=r.a.useState(""),n=Object(B.a)(a,2),i=n[0],o=n[1],l=Object(f.f)(),c=function(){l.push({pathname:i})};return r.a.createElement(z.a.Consumer,null,(function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{direction:"column",size:"large",pad:"medium",justify:"center",align:"center",height:"large"===e?"small":"auto",flex:"grow"},r.a.createElement(_.a,{direction:"row",width:"large",margin:{bottom:t?"0":"large"}},r.a.createElement(_.a,{width:"large"},r.a.createElement(Q.a,{placeholder:"Wpisz nazw\u0119 miejscowo\u015bci",value:i,onChange:function(e){return o(e.target.value)}})),r.a.createElement(q.a,{onClick:c,primary:!0,size:"small"!==e?"large":"medium",label:"Szukaj",margin:{left:"small"}})),t&&r.a.createElement(_.a,{width:"large",height:"xxsmall",pad:"small"},r.a.createElement(T.a,{color:"status-critical"},"Miejscowo\u015b\u0107 nie zosta\u0142a znaleziona - prosz\u0119 spr\xf3bowa\u0107 ponownie"))))}))};var K=function(e){var t=e.onInitialize,a=e.onWeatherComparisionInitialize,i=e.weather,o=e.weatherComparision,l=e.hasError,c=Object(f.g)().city;Object(n.useEffect)((function(){c&&t(c)}),[c,t]);var u=null===i?null:i.get("cityID");Object(n.useEffect)((function(){u&&a(u)}),[u,a]);var m=!!o.count();return r.a.createElement(z.a.Consumer,null,(function(e){return r.a.createElement(_.a,{fill:!0,direction:"large"!==e?"column":"row",justify:"center"},i&&r.a.createElement(_.a,{direction:"row",justify:"center",basis:"small"!==e?"500px":"auto"},r.a.createElement(x,{weather:i})),r.a.createElement(_.a,{flex:!0,direction:m?"column":"row"},r.a.createElement(J,{hasError:l}),m&&r.a.createElement(N,{weatherComparision:o})))}))},Z=Object(c.b)((function(e){var t=e.weatherReducer;return{weather:t.get("weather"),weatherComparision:t.get("weatherComparision"),hasError:t.get("hasError")}}),(function(e){return{onInitialize:function(t){var a;e((a=t,function(e){e({type:"LOAD_WEATHER_DATA_REQUEST"}),w()("https://api.openweathermap.org/data/2.5/weather?q=".concat(a,"&lang=pl&units=metric&appid=817459b6a4fa2fee0fbb561b73d3e4aa")).then((function(e){if(e.ok)return e.json();throw new Error("Something went wrong")})).then((function(t){return e({type:"LOAD_WEATHER_DATA_SUCCESS",weather:new E({cityID:t.id,cityName:t.name,description:t.weather[0].description,icon:t.weather[0].icon,temperature:t.main.temp,feelsLike:t.main.feels_like,pressure:t.main.pressure,humidity:t.main.humidity,windSpeed:t.wind.speed})})})).catch((function(){return e({type:"LOAD_WEATHER_DATA_FAILURE"})}))}))},onWeatherComparisionInitialize:function(t){e(function(e){return function(t){t({type:"LOAD_MOST_POPULAR_CITIES_WEATHER_DATA_REQUEST"});var a=Object(u.a)(m),n=m.findIndex((function(t){return t===e}));-1!==n&&a.splice(n,1),w()("https://api.openweathermap.org/data/2.5/group?id=".concat(a.join(","),"&units=metric&lang=pl&appid=817459b6a4fa2fee0fbb561b73d3e4aa")).then((function(e){if(e.ok)return e.json();throw new Error("Something went wrong")})).then((function(e){return t({type:"LOAD_MOST_POPULAR_CITIES_WEATHER_DATA_SUCCESS",weather:new g.a(e.list.map((function(e){return new E({cityID:e.id,cityName:e.name,description:e.weather.description,icon:e.weather.icon,temperature:e.main.temp,feelsLike:e.main.feels_like,pressure:e.main.pressure,humidity:e.main.humidity,windSpeed:e.wind.speed})})))})})).catch((function(){return t({type:"LOAD_MOST_POPULAR_CITIES_WEATHER_DATA_FAILURE"})}))}}(t))}}}))(K);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var $=a(29),G=a(19),V=a(65),X=a(66),Y=a.n(X),ee=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return a}(Object(g.c)({cityID:null,cityName:null,temperature:null,feelsLike:null,pressure:null,humidity:null,windSpeed:null}));function te(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new g.a;return t.map((function(t){return new ee({cityID:t.get("cityID"),cityName:t.get("cityName"),temperature:ae(t.get("temperature"),e.get("temperature")),feelsLike:ae(t.get("feelsLike"),e.get("feelsLike")),pressure:ae(t.get("pressure"),e.get("pressure")),humidity:ae(t.get("humidity"),e.get("humidity")),windSpeed:ae(t.get("windSpeed"),e.get("windSpeed"))})}))}function ae(e,t){return parseFloat((parseFloat(e.toFixed(1))-parseFloat(t.toFixed(1))).toFixed(1))}var ne=new g.b({weather:null,weatherComparision:new g.b,hasError:!1});var re=Object(G.c)({weatherReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_WEATHER_DATA_REQUEST":return e;case"LOAD_WEATHER_DATA_SUCCESS":return e.set("weather",t.weather).set("hasError",!1);case"LOAD_WEATHER_DATA_FAILURE":return e.set("hasError",!0);case"LOAD_MOST_POPULAR_CITIES_WEATHER_DATA_SUCCESS":var a=new g.b;return t.weather.forEach((function(e){a=a.setIn([e.get("cityID"),"weatherToCompare"],e)})),te(e.get("weather"),t.weather).forEach((function(e){console.log(e),a=a.setIn([e.get("cityID"),"result"],e)})),e.set("weatherComparision",a);default:return e}}});var ie=function(e){var t=[V.a,Y.a],a=G.a.apply(void 0,t);return Object(G.d)(re,e,a)}();o.a.render(r.a.createElement(c.a,{store:ie},r.a.createElement($.a,null,r.a.createElement(l.a,{theme:{global:{font:{family:"Cinzel",size:"18px",height:"20px"}}}},r.a.createElement(f.c,null,r.a.createElement(f.a,{path:"/:city?"},r.a.createElement(Z,null)))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[72,1,2]]]);
//# sourceMappingURL=main.d24b60f5.chunk.js.map